# [行列計算作成プロジェクト]

> [「C言語による低レイヤからの深層学習再構築：第一弾 行列演算エンジン」]

---

## 💎 コンセプト / 設計思想
* **本質的要件:** [低レイヤで動作する行列計算エンジンの開発]
* **設計方針:** [機能を細分化し各ステップで追加することを繰り返す]
* **技術的挑戦:** [低レイヤにおいて安全かつ高速な行列計算ツールをPythonから呼び出し使用可能にする]

## 🏗 アーキテクチャ (システム構造)

* **Backend:** C言語 (ISO C11準拠) - 数値計算・メモリ管理
* **Frontend:** Python (PySide6) - GUI・ユーザーインターフェース
* **Interface:** `ctypes` による言語間データ型マッピング

## 🛠 技術スタック
| 役割 | 使用技術 | 備考 |
| :--- | :--- | :--- |
| Core Logic | C | 手動メモリ管理, 行列演算ポインタ操作 |
| Interface | ctypes / Python | 言語間連携 (FFI) |
| GUI | PySide6 (Qt) | 非同期計算制御 |
| Design | Markdown / Mermaid | 設計書の言語化 |

## 📂 リポジトリ構成
```text
.
├── build/              # ビルド済みバイナリ (.dll / .so)
├── docs/               # 設計書・要件定義書 (.md)
├── src/                # 実装コード (.c, .h)
├── include/            # ヘッダーコード (.h)
├── tests/              # 検証用コード
├── CMakeLists.txt      # Cmakeファイル
└── README.md
```

#### 作成済みの機能（関数）

| 関数名 | 概要・特徴 |
| --- | --- |
| `create_matrix` | 指定サイズの行列を生成。`calloc` によるゼロ初期化、オーバーフローチェック、メモリ確保失敗時の `NULL` 返却機能を備える。 |
| `add_matrix` | 2つの行列の要素ごとの加算。サイズ不一致や `NULL` 入力の検知、結果の自動メモリ確保を行う。 |
| `print_matrix` | 行列の内容を標準出力に表示。`const` 修飾子により、表示時に入力データが保護される。 |
| `free_matrix` | 内部データ配列および構造体本体を安全に解放。`NULL` 入力時も安全に動作する。 |

#### 実施済みのテスト項目

これまでのテスト工程により、以下の項目が検証されています。

| カテゴリ | ID | 検証内容 |
| --- | --- | --- |
| **正常系** | **TN-01** | 行列が指定サイズで生成され、全要素が `0.0` であること。 |
|  | **TN-02** | 同サイズの行列が正しく加算（例：2.0 + 2.0 = 4.0）されること。 |
|  | **TN-03** | `print_matrix` が正常終了（status 0）すること。 |
|  | **TN-04** | 確保したメモリが `free_matrix` で完全に解放されること。 |
| **異常系** | **TE-01** | `rows=0` 等の不正サイズ指定時に `NULL` が返ること。 |
|  | **TE-02** | サイズが異なる行列の加算時に `NULL` が返ること。 |
|  | **TE-03/04** | 引数に `NULL` を渡した際、適切にエラー通知（`NULL` または 1）がなされること。 |
|  | **TE-05** | メモリ確保不可能な巨大サイズ要求時に `NULL` が返ること。 |

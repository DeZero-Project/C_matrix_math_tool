# 設計書：行列計算ツール（簡易版）

## 1. データ構造
- **構造体定義**: 
  - `typedef struct { ... } Matrix;` の各メンバの役割。
- **メモリ配置**: 
  - 1次元配列を採用する理由と、インデックス計算式（例：`row * cols + col`）。

## 2. モジュール構成
- 各ファイルの役割（例：`main.c` は実行フロー、`matrix.c` は純粋な計算ロジック）。

## 3. 関数詳細仕様（API設計）
ここが実装の要になります。以下の項目を各関数ごとに定義します。

### 3.x [関数名]
- **プロトタイプ**: `Matrix* function_name(引数...);`
- **引数**:
  - 各引数の型と役割。`const` を付けるべきかどうかの検討。
- **戻り値**:
  - 成功時：何（ポインタ、数値など）を返すか。
  - 失敗時：`NULL` を返すのか、プログラムを終了させるのか。
- **処理内容（アルゴリズム）**:
  - 内部で行うループ処理や計算式の詳細。
- **メモリ管理**:
  - 関数内で `malloc` を行うか。戻り値のメモリ解放責任は呼び出し側にあるか。

## 4. 共通エラー処理規定
- 計算不能な行列サイズが渡された際の共通的な挙動（`fprintf` への出力と `exit` の実行など）。

## 5. 制限事項
- 扱う数値型（`double` 固定など）や、現時点でサポートしない計算範囲。
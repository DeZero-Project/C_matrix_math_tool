## 1. テスト環境・変数定義

### テストで使用する変数の役割

| 変数名 | 役割 |
| --- | --- |
| `mat_a`, `mat_b` | 入力用行列ポインタ。正常系では有効な領域を指し、異常系では `NULL` を代入する。 |
| `result` | 関数からの戻り値を格納するポインタ。 |
| `status` | `int` 型の戻り値を格納する変数（`print_matrix` 用）。 |

## 2. テスト項目一覧

### 正常系テスト（ロジック検証）

| ID | テスト項目 | 入力データ例 | 期待される結果 |
| --- | --- | --- | --- |
| **TN-01** | 行列生成とゼロ初期化 | `rows=2, cols=2` | `result != NULL` かつ 全要素が `0.0` であること |
| **TN-02** | 正しいサイズの行列加算 |  同士の行列 | `result != NULL` かつ 各要素が `a[i]+b[i]` と一致すること |
| **TN-03** | 正常な行列表示 | 有効な `Matrix` ポインタ | `status == 0` が返り、標準出力に値が表示されること |
| **TN-04** | メモリ解放 | `create_matrix` で生成したポインタ | Valgrind等でリークが検出されないこと |

### 異常系テスト（堅牢性検証）

| ID | テスト項目 | 入力データ例 | 期待される結果 |
| --- | --- | --- | --- |
| **TE-01** | 生成時の不正サイズ | `rows=0` または `cols=0` | エラーメッセージ表示後、`result == NULL` が返ること |
| **TE-02** | 加算時のサイズ不一致 |  と  | エラーメッセージ表示後、`result == NULL` が返ること |
| **TE-03** | `add_matrix` へのNULL入力 | `mat_a = NULL` | エラーメッセージ表示後、`result == NULL` が返ること |
| **TE-04** | `print_matrix` へのNULL入力 | `data = NULL` | エラーメッセージ表示後、`status == 1` が返ること |
| **TE-05** | メモリ確保失敗時の挙動 | `malloc` が `NULL` を返す状況 | 関数内部で適切に `free` され、`NULL` が返ること |

## 3. テスト実装のガイドライン（設計ルール）

このテストコードを記述する際は、設計修正記録に基づき以下のルールを遵守してください：

1. **戻り値チェックの徹底**: `exit` を期待せず、必ず `if (result == NULL)` または `assert(result == NULL)` で戻り値を検証すること。
2. **終了ステータスの確認**: テスト用 `main` 関数内では、各テストの成否を判定し、最終的に `0`（成功）か `1`（失敗）を返すように記述すること。
3. **モックテスト（任意）**: 項目 `TE-05`（メモリ確保失敗）をテストする場合、一時的に `malloc` を差し替えるか、ポインタを直接操作して `NULL` 状態を擬似的に作り出すこと。
# 設計書：行列計算ツール（簡易版）

## 1. データ構造
- **構造体定義**: 
  - `typedef struct { int rows;, int col;, double *data; } Matrix;` 
        - `rows`: 行の大きさ
        - `cols`: 列の大きさ
        - `*data`: 行列に格納されたデータを指すポインタ
- **メモリ配置**: 
  - 2次元配列を採用する理由: NumPyのような計算を再現するため
  - インデックス計算式: `row * cols + col`

## 2. モジュール構成
- `main.c`: 実行フロー
- `matrix.c`: 行列の作成・純粋な計算ロジック

## 3. 関数詳細仕様

### 3.1 [create_matrix]
- **プロトタイプ**: `int *create_matrix(int col, int row);`
- **引数**:
  - `col`: 列のサイズ
  - `row`: 行のサイズ
- **戻り値**:
  - 成功時：`row * cols + col`
  - 失敗時：プログラムを強制終了(return1)
- **処理内容（アルゴリズム）**:
  - 内部で行うループ処理や計算式の詳細
- **メモリ管理**:
  - 関数内で `malloc` を行うか。戻り値のメモリ解放責任は呼び出し側にあるか。

### 3.2 [print_matrix]
- **プロトタイプ**: `int *print_matrix(double *data);`
- **引数**:
  - `*data`: 行列に格納されたデータ

- **戻り値**:
  - 成功時：`printf("%s\n", &data);`
  - 失敗時：プログラムを強制終了(return 1)
- **処理内容（アルゴリズム）**:
  - 内部で行うループ処理や計算式の詳細
- **メモリ管理**:
  - 関数内で `malloc` を行うか。戻り値のメモリ解放責任は呼び出し側にあるか。

### 3.1 [add_matrix]
- **プロトタイプ**: `int *add_matrix(int col, int row);`
- **引数**:
  - `col`: 列のサイズ
  - `row`: 行のサイズ
- **戻り値**:
  - 成功時：`row * cols + col`
  - 失敗時：プログラムを強制終了(return1)
- **処理内容（アルゴリズム）**:
  - 内部で行うループ処理や計算式の詳細
- **メモリ管理**:
  - 関数内で `malloc` を行うか。戻り値のメモリ解放責任は呼び出し側にあるか。

## 4. 共通エラー処理規定
- 計算不能な行列サイズが渡された際の共通的な挙動（`fprintf` への出力と `exit` の実行など）。

## 5. 制限事項
- 扱う数値型（`double` 固定など）や、現時点でサポートしない計算範囲。